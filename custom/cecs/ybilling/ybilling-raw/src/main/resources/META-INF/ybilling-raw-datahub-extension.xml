<!--
  ~ [y] hybris Platform
  ~
  ~ Copyright (c) 2000-2015 hybris AG
  ~ All rights reserved.
  ~
  ~ This software is the confidential and proprietary information of hybris
  ~ ("Confidential Information"). You shall not disclose such Confidential
  ~ Information and shall use it only in accordance with the terms of the
  ~ license agreement you entered into with hybris.
  -->
<extension xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.hybris.com/schema/"
		   xsi:schemaLocation="http://www.hybris.com/schema/ http://www.hybris.com/schema/datahub-metadata-schema-1.2.0.xsd"
		   name="ybilling-raw">

	<dependencies>
		<dependency>
			<extension>ybilling-canonical</extension>
		</dependency>
	</dependencies>

	<rawItems>
		<item>
			<type>RawConfigurableProduct</type>
			<description>Raw representation of configurable item</description>
			<attributes>
				<attribute>
					<name>PRODUCT_ID</name>
				</attribute>
				<attribute>
					<!--
					 https://wiki.hybris.com/display/release5/Domain+Modeling+in+the+Data+Hub#DomainModelingintheDataHub-CanonicalItemModeling
					 "There is also a limitation that the raw attribute name must match the canonical attribute name exactly if the canonical attribute is localizable or a collection."
					<name>short_text</name>
					-->
					<name>name</name>
				</attribute>
				<attribute>
					<name>CONFIG</name>
				</attribute>
				<attribute>
					<name>UNIT_ISO</name>
				</attribute>
				<attribute>
					<name>NUMERATOR</name>
				</attribute>
				<attribute>
					<name>SALES_ORG</name>
				</attribute>
				<attribute>
					<name>DISTR_CHAN</name>
				</attribute>
				<attribute>
					<name>CRMT_CTR_DUR</name>
				</attribute>
				<attribute>
					<name>CRMT_CTR_PERIOD_UNIT</name>
				</attribute>
			</attributes>
		</item>
		<item>
			<type>RawTechnicalAttribute</type>
			<description>Raw representation of technical attributes</description>
			<attributes>
				<attribute>
					<name>PRODUCT_ID</name>
				</attribute>
				<attribute>
					<name>VERSION</name>
				</attribute>
				<attribute>
					<name>GUID</name>
				</attribute>
				<attribute>
					<name>DATA_ID</name>
				</attribute>
				<attribute>
					<name>DATA_DESC</name>
				</attribute>
				<attribute>
					<name>DATA_TYPE</name>
				</attribute>
			</attributes>
		</item>
	</rawItems>

	<canonicalItems>
		<item>
			<type>ConfigurableProduct</type>
			<attributes>
				<attribute>
					<name>identifier</name>
					<transformations>
						<transformation>
							<rawSource>RawConfigurableProduct</rawSource>
							<expression>PRODUCT_ID</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>name</name>
					<transformations>
						<transformation>
							<rawSource>RawConfigurableProduct</rawSource>
							<!--<expression>short_text</expression>-->
							<expression>name</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>configurable</name>
					<transformations>
						<transformation>
							<rawSource>RawConfigurableProduct</rawSource>
							<expression spel="true">getField('CONFIG') == 'A' ? true : null</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>unit</name>
					<transformations>
						<transformation>
							<rawSource>RawConfigurableProduct</rawSource>
							<expression>UNIT_ISO</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>numberOfUnits</name>
					<transformations>
						<transformation>
							<rawSource>RawConfigurableProduct</rawSource>
							<expression>NUMERATOR</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>salesOrganization</name>
					<transformations>
						<transformation>
							<rawSource>RawConfigurableProduct</rawSource>
							<expression>SALES_ORG</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>distributionChannel</name>
					<transformations>
						<transformation>
							<rawSource>RawConfigurableProduct</rawSource>
							<expression>DISTR_CHAN</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>contractDuration</name>
					<transformations>
						<transformation>
							<rawSource>RawConfigurableProduct</rawSource>
							<expression>CRMT_CTR_DUR</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>periodUnit</name>
					<transformations>
						<transformation>
							<rawSource>RawConfigurableProduct</rawSource>
							<expression>CRMT_CTR_PERIOD_UNIT</expression>
						</transformation>
					</transformations>
				</attribute>
			</attributes>
		</item>

		<item>
			<type>TechnicalAttribute</type>
			<attributes>
				<attribute>
					<name>product</name>
					<transformations>
						<transformation>
							<rawSource>RawTechnicalAttribute</rawSource>
							<expression>PRODUCT_ID</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>version</name>
					<transformations>
						<transformation>
							<rawSource>RawTechnicalAttribute</rawSource>
							<expression>VERSION</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>guid</name>
					<transformations>
						<transformation>
							<rawSource>RawTechnicalAttribute</rawSource>
							<expression>GUID</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>dataId</name>
					<transformations>
						<transformation>
							<rawSource>RawTechnicalAttribute</rawSource>
							<expression>DATA_ID</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>dataDesc</name>
					<transformations>
						<transformation>
							<rawSource>RawTechnicalAttribute</rawSource>
							<expression>DATA_DESC</expression>
						</transformation>
					</transformations>
				</attribute>
				<attribute>
					<name>dataType</name>
					<transformations>
						<transformation>
							<rawSource>RawTechnicalAttribute</rawSource>
							<expression>DATA_TYPE</expression>
						</transformation>
					</transformations>
				</attribute>
			</attributes>
		</item>

	</canonicalItems>

</extension>
